<div class="d-flex flex-column flex-md-row gap-5 product-info px-4">
  <%# Product Image %>
  <div class="product-image p-4 align-self-center d-flex align-items-center justify-content-center">
    <%= image_tag @product.image_url %>
  </div>
  <%# Product Name %>
  <div class="d-flex flex-column mx-2 align-items-md-start">
    <h1 class="mb-3 product-name">
      <%= @product.name%>
    </h1>
    <%# Rating %>
    <p class="">
      <%= @product.rating_rate %>/5
    </p>
    <%# Price %>
    <h2 class="">
      <%= number_to_currency(@product.price) %>
    </h2>
    <%# Description %>
    <p class="text-secondary">
      <%= @product.description.first.capitalize %><%= @product.description.to_s[1..-1]%>
    </p>
    <div class="d-flex flex-column flex-md-row gap-2 w-100 w-lg-50">
      <%# Add to cart button %>
      <%= button_to "Add to cart", cart_items_path(product_id: @product.id),
      method: :post,
      class: "btn add-to-cart-button w-100 w-md-25" %>
      <%# Add to favorties button %>
      <%= button_to "Add to wishlist", favorites_path(product_id: @product.id),
      method: :post,
      class: "btn btn-primary add-to-wishlist-button w-100 w-md-25" %>
    </div>
  </div>
</div>
<div class="d-flex justify-content-between">
  <%# Reviews %>
  <h4>Reviews (<%= @product.reviews.count %>)</h4>
  <%# Rating %>
  <%# TODO: Make rating be stars like PetSpot %>
  <p class="">
    <%= @product.rating_rate %>(<%= @product.rating_count %>)
  </p>
</div>
<% if @reviews.blank? %>
  <p>No reviews yet. Be the first to review this product.</p>
<% else %>
  <% @reviews.each do |review| %>
    <div class="review mb-3 p-2">
      <strong><%= review.user&.first_name %></strong>
      <span class="text-muted"><%= time_ago_in_words(review.created_at) %> ago</span>
      <div class="text-muted"><%= pluralize(review.rating, "star") %></div>
      <p class="mt-2"><%= simple_format(h(review.comment)) %></p>
    </div>
  <% end %>
<% end %>
