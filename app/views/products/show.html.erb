<div class="d-flex flex-column flex-md-row gap-5 product-info">
  <%# Product Image %>
  <%= image_tag @product.image_url, class: "img-fluid my-3 mb-md-0 align-self-center align-self-md-start" %>
  <%# Product Name %>
  <div class="d-flex flex-column mx-2">
    <h1 class="mb-3 product-name">
      <%= @product.name%>
    </h1>
    <%# Description %>
    <p class="">
      <%= @product.description.first.capitalize %><%= @product.description.to_s[1..-1]%>
    </p>
    <div class="d-flex justify-content-end">
      <%# Price %>
      <p class=""><%= number_to_currency(@product.price) %></p>
    </div>
  </div>
</div>
<div class="d-flex justify-content-between">
  <%# Reviews %>
  <h2>Reviews (<%= @product.reviews.count %>)</h2>
  <%# Rating %>
  <p class="">
    <%= @product.rating_rate %>(<%= @product.rating_count %>)
  </p>
</div>
<% if @reviews.blank? %>
  <p>No reviews yet. Be the first to review this product.</p>
<% else %>
  <% @reviews.each do |review| %>
    <div class="review mb-3 p-2 border rounded">
      <strong><%= review.user&.first_name %></strong>
      <span class="text-muted"> â€” <%= pluralize(review.rating, "star") %></span>
      <div class="small text-muted"><%= review.created_at.strftime("%b %d, %Y") %></div>
      <p class="mt-2"><%= simple_format(h(review.comment)) %></p>
    </div>
  <% end %>
<% end %>
<%# Add to cart button %>
<div>
  <%= button_to "Add to cart", cart_items_path(product_id: @product.id), method: :post, class: "btn btn-primary" %>
</div>
<%# Add to favorties button %>
<div>
  <%= button_to "Add to wishlist", favorites_path(product_id: @product.id), method: :post, class: "btn btn-secondary" %>
</div>
<%# View cart button %>
<div class="p-5">
  <%= link_to "View Cart", cart_path%>
</div>